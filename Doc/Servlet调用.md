[TOC]

#### 一 默认欢迎资源

1. ##### 默认欢迎资源文件：

   >Tomcat 针对用户对当前网站发起默认请求，自动返回资源文件

2. ##### 默认请求：

   >1. 正常请求：	http://lcoalhost:8080/myWeb/one.html
   >2. 默认请求：    http://localhost:8080.myWeb/
   
3. ##### Tomcat遵守的默认欢迎资源文件定位规则：

   >1. 规则位置：tomcat安装目录/conf/web.xml

4. ##### 自定义网站中的默认欢迎资源文件定位规则：

```xml
    <welcome-file-list>
        <welcome-file>index.html</welcome-file>
        <welcome-file>index.htm</welcome-file>
        <welcome-file>index.jsp</welcome-file>
    </welcome-file-list>
```
5. ##### Http状态码

   >介绍:	
   >
   >​		1）由HTTP服务器生成一个由三位数字组成符号
   >
   >​		2）表示本次通信的状态同时可以要求浏览器接收到响应包之后行为
   >
   >​		3）分为五大类（1XX，2XX，3XX，4XX，5XX）

   + 200 : Http服务器将浏览器请求的资源资源文件进行了返回

   + 302：Http服务器通知浏览器到响应头中location中读取请求地址并要求浏览器得到请        求地址更新到浏览器地址栏（response.sendRedirect("请求地址")）

   + 404：Http服务器通知浏览器本次索要的资源文件不存在 

     >原因：
     >
     >​    	网站名不对
     >
     > 人   如果网站名正确，可能是资源文件名称有误
     >
     > 为	tomcat没有在网站定位默认欢迎资源文件
     >
     >​		 设置默认地址没有按照uri格式（/网站名/资源文件名）设置
     >
     >其他  IDEA没有将最新网站内容交给Tomcat	

   + 405：Http服务器通知浏览器本次索要的资源文件已经被找到了，但是这个资源文件 对于浏览器请求方式无法接受

   + 500：Http服务器通知浏览器本次索要的资源文件已经找到了并且也可以接受浏览器的请求方式，但是由于这个资源文件在处理过程中碰到了异常因此无法提供服务。（异常：并不是命令出错了，而是命令使用的数据不满足条件）

#### 二 Servlet之间调用方式

1. ##### 前提条件：

   >针对浏览器某次请求，需要在服务端由多个Servlet参与其中，但是浏览器一次只能请求一个资源文件，导致用户为了得到服务需要手动通过浏览器发送多次请求，增加了用户获取服务难度，降低使用感受，最终导致用户流失

2. ##### 红线： 

   ###### （无论本次请求中涉及了多个Servlet，用户只需要手动发起一次请求）

3. ##### 解决方案：重定向解决方案  /  请求转发解决方案

#### 三 重定向解决方案

1. ##### 工作原理：

   ![](C:\Users\Joeo8\Pictures\Project\重定向工作原理.png)

2. ##### 依赖命令 

   ```servlet
    response.sendRedirect("地址")
   ```

3. ##### 地址格式

   + 如果要浏览器访问其他的网站资源，地址采用URL

     ```java
     response.sendRedirect("http://www.baidu.com")
     ```

   + 如果要求浏览器访问当前网站的资源，地址采用URI

     ```java
     response.sendRedirect("/myWeb/one")
     ```

4. ##### 特征  🔨

   1. 重定向过程中浏览器会发送多少次请求

      >重定向过程中浏览器至少发送两次以上请求，但只有一次请求是用户手动发起的。

   2. 在浏览器发送请求之后，如何判断服务端采用的是重定向解决方案

      >在本次请求结束后，收到的状态码是302就可以判断
      >
      >（浏览器地址栏会发送变化）

   3. 通过重定向方案调用的Servlet接受的请求方法是GET还是POST

      >一定是GET。第二次请求开始是通过浏览器地址发起的，因此发起的请求方式一定是GET。

#### 四 请求转发解决方案

1. ##### 工作原理：

   ![](C:\Users\Joeo8\Pictures\Project\请求转发工作原理.png)

2. ##### 依赖命令：

   ```java
   //通过请求对象获取资源申请对象
   RequestDispatcher report = request.getRequestDispatcher("地址");
   //将资源申请对象发送给Tomcat
   report.forward(request,response)
   ```

3. ##### 地址： "/资源文件名"

4. ##### 特征：🔨

   1. 请求转发过程中，浏览器发送了多少次请求

      >只发送了一次

   2. 请求转发过程中，为什么将请求对象和响应对象交给Tomcat

      >请求转发过程中，两个Servlet应该共享同一个请求协议包，因此共享这个请求协议包关联的请求对象和响应对象。

   3. 通过请求转发调用的Servlet接收到的请求方式是GET还是POST

      >在同一次请求转发过程中，所有的Servlet接收请求方式保持一致





